<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>TshwaneBusMate - Payment Gateway</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="payment_gateway.css">
  </head>
  <body>
  <!-- Page header -->
  <header>
    <div class="header-container">
        <div class="logo">
            <h1>TshwaneBusMate</h1>
        </div>
        <button class="back-button" onclick="window.location.href='credit_wallet.html'">
            <i class="fas fa-arrow-left"></i> Back
        </button>
    </div>
  </header>

  <main>
    <!-- Left side: form for choosing action -->
    <div class="content-container">
    <h2>Payment Gateway</h2>

    <form id="invoicePayment" method="post" action="payment_gateway.php">
      <div class="form-group">
      <label for="actionSelect">Choose action</label>
      <select id="actionSelect" name="action" required>
        <option value="" disabled selected>-- Select an option --</option>
        <option value="reload">Reload credits (Add to balance)</option>
        <option value="purchase">Purchase product</option>
      </select>
      </div>

      <!-- Reload fields -->
      <div id="reloadFields" class="hidden">
      <div class="form-group">
        <label for="reloadAmount">Reload amount (ZAR)</label>
        <input
          id="reloadAmount"
          name="reloadAmount"
          type="number"
          min="11"
          max="3000"
          step="0.01"
          placeholder="Enter amount"
        />
      </div>
      </div>

      <!-- Purchase fields -->
      <div id="purchaseFields" class="hidden">
      <div class="form-group">
        <label>Select product(s)</label>
        <div id="packageList">
          <div class="packageItem">
            <select name="product[]" required>
              <option value="" disabled selected>-- Choose product --</option>
              <option value="20">Connector 20 - ZAR 20.00</option>
              <option value="60">Connector 60 - ZAR 60.00</option>
              <option value="80">Connector 80 - ZAR 80.00</option>
              <option value="100">Connector 100 - ZAR 100.00</option>
              <option value="150">Connector 150 - ZAR 150.00</option>
              <option value="200">Connector 200 - ZAR 200.00</option>
              <option value="350">Connector 350 - ZAR 350.00</option>
              <option value="500">Connector 500 - ZAR 500.00</option>
            </select>
            <button type="button" class="btn-remove">Remove</button>
          </div>
        </div>
        <div class="package-controls">
          <button type="button" id="addPackageBtn" class="btn-add">Add package</button>
          <small style="color: #aaa">You may add up to 3 packages in total.</small>
        </div>
      </div>
      </div>

    <!-- Invoice Summary -->
      <div style="margin-top: 30px;">
      <a href="#" id="toggleInvoiceLink" class="toggle-link hidden">View invoice</a>
      <div id="invoiceSummary" class="invoice hidden">
        <h3>Invoice</h3>
        <ul id="invoiceItems"></ul>
        <div class="total">
        <span>Total</span><span id="invoiceTotal">ZAR 0.00</span>
        </div>
        <div id="invoicePaying" class="hidden"></div>
      </div>
      <button id="proceedPay" class="btn-proceed" style="margin-top: 30px;">Proceed to Pay</button>
      </div>
    </form>
    </div>
  </main>

  <!-- Footer -->
  <footer>
      <div class="copyright">Copyright &copy; 2025 City of Tshwane. All rights reserved.</div>
  </footer>

<script src="payment_gateway.js"></script>
  </body>
</html>
